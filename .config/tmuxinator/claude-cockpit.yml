# Claude Pipeline Control - Minimal
name: claude-cockpit
root: ~/.claude

on_project_start: |
  ~/.claude/scripts/__nats_watcher.sh --daemon >/dev/null 2>&1 &

windows:
  - work:
      layout: main-horizontal
      panes:
        # Shell for commands
        -
        # Compact status refreshing every 3s
        - watch -n 3 -t '~/.claude/scripts/__nats_watcher.sh --status 2>&1 | tail -15'

  - monitor:
      layout: even-horizontal
      panes:
        # Errors only
        - nats sub -s nats://192.168.178.93:4222 tasks.error
        # Watcher log
        - tail -f /tmp/nats_watcher.log
